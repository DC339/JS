<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	table {
		text-align: center;
		border: 1px solid #4682B4;
		background-color: #4682B4;
	}

	#table thead {
		background-color: #ccc;
	}
	</style>
</head>
<body>
	<table id="table" border="0">
		<thead>
			<tr>
				<th>商品全选<input type="checkbox" name=""></th>
				<th>商品编号</th>
				<th>商品名称</th>
				<th>商品价格</th>
				<th>商品数量</th>
				<th>商品删除</th>
			</tr>
		</thead>
		<tbody id="tbd">
			
		</tbody>

	</table>
	<script type="text/javascript">
		var aData = [
			{
				number:1,
				name:'可乐',
				price: 2.3,
				count: 48
			},
			{
				number:2,
				name:'雪碧',
				price: 3.3,
				count: 55
			},
			{
				number:3,
				name:'芬达',
				price: 3.3,
				count: 55
			},
			{
				number:4,
				name:'水',
				price: 3.3,
				count: 55
			}
		];
		var tab = document.getElementById('table');
		var tBody = tab.tBodies[0];


		for(var i = 0;i < aData.length;i++) {
			//创建tr
			var tr = document.createElement('tr');

			if(i%2) {
				tr.style.backgroundColor = 'yellowgreen';
			}else {
				tr.style.backgroundColor = 'pink';
			}

			//生成全选
			var td = document.createElement('td');
			td.innerHTML = '<input type="checkbox" />';
			tr.appendChild(td);

			var checked = td.children[0];

			checked.onclick = function () {
				setColor();
			}


			//生成数据
			for (var attr in aData[i]) {
				var td = document.createElement('td');
				td.innerHTML = aData[i][attr];
				tr.appendChild(td);
			}

			//生成删除

			var td = document.createElement('td');
			td.innerHTML = '<a href="javascript:;">删除</a>';
			tr.appendChild(td);

			var a = td.children[0];
			a.onclick = function () {
				tBody.removeChild(this.parentNode.parentNode);
			}

			tBody.appendChild(tr);
			
		}

		//设置颜色 
		var aChecked = tBody.getElementsByTagName('input');
		console.log(aChecked.length);
		function setColor() {
			for(var i=0;i<aChecked.length;i++) {
				if (aChecked[i].checked) {
					aChecked[i].parentNode.parentNode.style.backgroundColor = 'red';
				}else {
					if(i%2) {
						aChecked[i].parentNode.parentNode.style.backgroundColor = 'yellowgreen';
					}else {
						aChecked[i].parentNode.parentNode.style.backgroundColor = 'pink';
					}
				}
			}
			
		}

	</script>
</body>
</html>